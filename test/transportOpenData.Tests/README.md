# TransportOpenData.Tests

This project contains unit tests for the TransportOpenData library, focusing on JSON deserialization of the Trip Planner API responses.

## Purpose

The primary goal of these tests is to verify that the JSON responses from the NSW Transport Trip Planner API can be correctly deserialized to the C# model classes generated by NSwag.

## Test Structure

- **TripRequestResponseDeserializationTests**: Basic tests for deserializing JSON responses to the `TripRequestResponse` class.
- **TripResponseAttributeTests**: More detailed tests that examine specific attributes of the response objects.
- **TestData**: Contains sample JSON responses for testing deserialization.
- **Helpers**: Utility classes for loading test data and comparing results.

## Running the Tests

To run the tests, you can use the following methods:

### Using Visual Studio
1. Open the solution in Visual Studio
2. Open the Test Explorer (Test > Test Explorer)
3. Click "Run All" or run specific tests

### Using the Command Line
```
dotnet test src/transportOpenData.Tests/TransportOpenData.Tests.csproj
```

## Adding New Tests

To add new tests for different response scenarios:

1. Add a new JSON sample to the `TestData` directory
2. Create a new test method in an existing test class or create a new test class
3. Use the `TestDataHelper` to load the JSON data and deserialize it
4. Add assertions to verify the expected behavior

## Sample JSON Data

The test project includes several sample JSON responses:

- `SuccessfulTripResponse.json`: A simple successful trip response
- `ErrorResponse.json`: An API error response
- `EmptyJourneysResponse.json`: A response with an empty journeys array
- `ComplexTripResponse.json`: A more complex response with multiple journey legs and various attributes

These samples can be extended or modified to test different scenarios.

## Notes

- The tests do not require a connection to the actual API
- The tests focus on deserialization, not the actual HTTP requests
- The tests validate both successful and error responses